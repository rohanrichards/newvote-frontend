<app-header-bar [headerTitle]="headerTitle"
    [headerText]="headerText"
    [buttons]="headerButtons">
</app-header-bar>

<app-loader [isLoading]="loadingState === 'loading' || isLoading"
    size="1.5">
</app-loader>


<div class="container"
    fxLayout="row wrap"
    fxLayoutAlign="center start">
	<div 
		joyrideStep="solution1"
		[title]="'The solutions'"
		[text]="'If you are more interested in solutions they will all be listed here 
			You\'ll be able to vote as well as view their related actions. 
			Actions are the next step to be take to implement a solution. Which can also be voted on.
			If you think there is something is missing in the way of solutions or actions, there\'s one more step you can take.
		'"
		fxFlex.gt-sm="690px"
		fxFlex.gt-md="800px"
		
		>
		<ng-container [ngSwitch]="loadingState">
				<div 
					*ngSwitchCase="'loading'"
					class="container"
					fxLayout="column"
					fxLayoutAlign="center start"
					>
					<div class="skeleton-card-list"
						>
						<!-- <app-skeleton-text-bar [isSubtitle]=true [width]="150">
						</app-skeleton-text-bar> -->
			
						<app-skeleton-wide-card
							[showImage]=true
							[showContent]=true
							[showActions]=true
							[showChildren]=true
						>
						</app-skeleton-wide-card>
						<app-skeleton-wide-card
							[showImage]=true
							[showContent]=true
							[showActions]=true
						>
						</app-skeleton-wide-card>
						<app-skeleton-wide-card
							[showImage]=true
							[showContent]=true
							[showActions]=true
						>
						</app-skeleton-wide-card>
					</div>	
				</div>
			<app-error-card *ngSwitchCase="'serverError'">
			</app-error-card>
			<app-card-list 
				*ngSwitchCase="'complete'"
				path="/solutions"
				[@fadeIn]=true
				[items]=solutions
				model="Solution"
				[showChildren]="true"
				childPath="proposals"
				childName="Actions"
				[showParent]="true"
				parentPath="/issues"
				parentPropName="issues"
				(restore)="onRestore($event)"
				(softDelete)="onSoftDelete($event)"
				(delete)="onDelete($event)"
				(vote)="onVote($event, 'Solution')"
				(childVote)="onVote($event, 'Proposal')">
			</app-card-list>
		</ng-container>
	</div>
</div>



