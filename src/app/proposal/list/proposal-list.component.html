<app-header-bar [headerTitle]="headerTitle"
    [headerText]="headerText"
    [buttons]="headerButtons">
</app-header-bar>

<app-loader [isLoading]="isLoading || loadingState === 'loading'"
    size="1.5">
</app-loader>

<div class="container"
    fxLayout="row wrap"
    fxLayoutAlign="center start">
	<div fxFlex.gt-sm="690px"
		fxFlex.gt-md="800px">
		<ng-container [ngSwitch]="loadingState">
			<div 
				*ngSwitchCase="'loading'"
				class="container"
				fxLayout="column"
				fxLayoutAlign="center start"
				>
				<div class="skeleton-card-list"
					>
					<!-- <app-skeleton-text-bar [isSubtitle]=true [width]="150">
					</app-skeleton-text-bar> -->

					<app-skeleton-wide-card
						[showImage]=true
						[showContent]=true
						[showActions]=true
						[showChildren]=true
					>
					</app-skeleton-wide-card>
					<app-skeleton-wide-card
						[showImage]=true
						[showContent]=true
						[showActions]=true
					>
					</app-skeleton-wide-card>
					<app-skeleton-wide-card
						[showImage]=true
						[showContent]=true
						[showActions]=true
					>
					</app-skeleton-wide-card>
				</div>	
			</div>
			<app-error-card *ngSwitchCase="'serverError'">
			</app-error-card>
			<app-card-list 
				*ngSwitchCase="'complete'"
				path="/proposals"
				[items]=proposals
				model="Proposal"
				[showChildren]="false"
				childPath="proposals"
				childName="Actions"
				[showParent]="true"
				parentPath="/solutions"
				parentPropName="solutions"
				(delete)="onDelete($event)"
				(softDelete)="onSoftDelete($event)"
				(restore)="onRestore($event)"
				(vote)="onVote($event, 'Proposal')"
				></app-card-list>
			<h2 class="mat-headline center-text">Suggestions for Actions</h2>
			<app-card-list 
				*ngSwitchCase="'complete'"
				path="/suggestions"
				[@fadeIn]=true
				[items]=suggestions
				model="Suggestion"
				(restore)="onRestore($event)"
				(softDelete)="onSoftDelete($event)"
				(delete)="onDelete($event)"
				(vote)="onVote($event, 'Suggestion')"
				>
			</app-card-list>
			</ng-container>
		</div>
</div>
