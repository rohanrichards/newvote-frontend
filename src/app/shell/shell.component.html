<div fxFlex>
	<mat-sidenav-container fxFill>
		<mat-sidenav #sidenav
		    [mode]="isMobile ? 'over' : 'side'"
		    [opened]="!isMobile"
		    [disableClose]="!isMobile"
		    ngClass.gt-sm="has-border"
		    fixedInViewport="true">
			<div class="logo-container">
				<p>
					<img class="logo"
					    src="assets/logo-gif.gif"
					    alt="angular logo" />
				</p>
			</div>
			<nav>
				<mat-list>
					<a mat-list-item
					    routerLink="/home"
					    routerLinkActive="active"
					    (click)="isMobile && sidenav.close()">
            			<span translate>Home</span>
          			</a>

					<div class="spacer"></div>

					<a mat-list-item
					    routerLink="/issues"
					    routerLinkActive="active"
					    (click)="isMobile && sidenav.close()">
            			<span translate>Issues</span>
          			</a>
					<a mat-list-item
					    routerLink="/solutions"
					    routerLinkActive="active"
					    (click)="isMobile && sidenav.close()">
            			<span translate>Vote Now</span>
          			</a>

					<div class="spacer"></div>

					<a mat-list-item
					    href="https://newvote.org/about-us"
					    target="_blank">
            			<span translate matLine>About NewVote</span>
          			</a>

					<a mat-list-item
					    href="https://newvote.org/help"
					    target="_blank">
            			<span translate>Help</span>
          			</a>
				</mat-list>
			</nav>
		</mat-sidenav>
		<mat-sidenav-content>
			<mat-toolbar color="primary"
			    class="sticky-toolbar"
			    ngClass.gt-sm="with-sidenav">
				<button class="menu-button"
				    mat-icon-button
				    (click)="sidenav.toggle()"
				    fxHide.gt-sm>
          			<mat-icon>menu</mat-icon>
        		</button>
				<span>{{title}}</span>
				<div fxFlex></div>
				<mat-autocomplete #auto="matAutocomplete">
					<mat-option *ngFor="let user of (searchResults$ | async)"
					    [value]="user">
						<span>{{ user.name }}</span>
						<small> | ID: {{user.id}}</small>
					</mat-option>
				</mat-autocomplete>
				<div *ngIf="isAuthenticated">
					<button mat-icon-button
					    [matMenuTriggerFor]="userMenu"
					    translate>
            			<mat-icon>person</mat-icon>
          			</button>
					<mat-menu #userMenu="matMenu">
						<mat-list>
							<mat-list-item>
								<span translate>Logged in as</span>&nbsp;<b>{{username}}</b>
							</mat-list-item>
							<mat-divider></mat-divider>
						</mat-list>
						<button mat-menu-item
						    (click)="logout()"
						    translate>Logout</button>
					</mat-menu>
				</div>
				<div *ngIf="!isAuthenticated">
					<button mat-stroked-button
					    routerLink="/auth/login">Sign In</button>
					<button mat-flat-button
					    routerLink="/auth/signup">Create Account</button>
				</div>
				<div>
					<button mat-icon-button
					    [matMenuTriggerFor]="languageMenu">
            			<mat-icon>language</mat-icon>
          			</button>
					<mat-menu #languageMenu="matMenu">
						<button mat-menu-item
						    *ngFor="let language of languages"
						    (click)="setLanguage(language)">
              				{{language}}
            			</button>
					</mat-menu>
				</div>
			</mat-toolbar>
			<router-outlet></router-outlet>
		</mat-sidenav-content>
	</mat-sidenav-container>
</div>
